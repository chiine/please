<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/layout1}">


<th:block layout:fragment="script">
    <script th:inline="javascript">
        $(document).ready(function(){
            var errorMessage = [[${errorMessage}]];
            if(errorMessage != null){
                alert(errorMessage);
            }
        });

        
        </script>
        
</th:block>


<div layout:fragment="content">
	<div id="inwrap02">
		<div class="p_title"><img src="/img/pet_icon13.png">모임 게시판</div>
		<form action="/meeting/new" role="form" method="post" th:object="${meetingBoardDto}">
			<input type="hidden" th:name="meetingWriter" th:value="${#authentication.name}">
			<ul class="b_write02">
				<li class="b_write_t">지역</li>
				<li class="b_write_c">
					<select th:field="*{meetingAdr}" class="meet_sel">
						<option value="서울">서울</option>
						<option value="경기도">경기도</option>
						<option value="부산">부산</option>
						<option value="경남">경남</option>
						<option value="경북">경북</option>
						<option value="전남">전남</option>
					 	<option value="전북">전북</option>
					 	<option value="충남">충남</option>
					 	<option value="충북">충북</option>
					 	<option value="강원도">강원도</option>
					 	<option value="제주도">제주도</option>
					</select>
				</li>
				<li class="b_write_t" style="width:197px;">인원</li>
				<li class="b_write_c">
					<input type="number" th:field="*{meetingCount}" placeholder="모집인원을 입력해주세요">
					<p th:if="${#fields.hasErrors('meetingCount')}" th:errors="*{meetingCount}" class="fieldError">Incorrect data</p>
				</li>
				
			</ul>
			<ul class="b_write">
				
				<li class="b_write_t">제목</li>
				<li class="b_write_c">
					<input type="text" th:field="*{title}">						
					<p th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="fieldError">Incorrect data</p>
				</li>
				<li class="b_write_t">내용</li>
				<li class="b_write_c" style="min-height:400px">
					<textarea type="text" th:field="*{meetingComment}"></textarea>
					<p th:if="${#fields.hasErrors('meetingComment')}" th:errors="*{meetingComment}" class="fieldError">Incorrect data</p>
				</li>
			</ul>
            
		   	<div class="Btn_box">
	            <button type="submit" class="Btn btn_left">등록</button>
	            <a type="button" class="Btn" href="/meeting/list">목록</a>
            </div>

 			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">            
		 </form>
	</div>
	
	
</div>